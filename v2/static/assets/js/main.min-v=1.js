!function(){"use strict";const o={xxs:1,xs:480,sm:768,md:992,lg:1220,xl:1540,xxl:1840};let n=window.innerWidth,i=window.innerHeight,c=0,e;const t=[];function a(){n=window.innerWidth,i=window.innerHeight;let s=0;Object.keys(o).forEach((e,t)=>{e=o[e];n>=e&&e>s&&(s=e,c=t)})}function l(){clearTimeout(e),e=setTimeout(()=>{a(),t.forEach(e=>e())},100)}const s=1e3;let r,d=!1;const m=/Firefox/i.test(navigator.userAgent);let h=!1;const u={body:document.body,activeZone:1};function v(e){c<3&&(TweenLite.set(e,{delay:1.2,className:"-=showTitle"}),TweenLite.set(e,{delay:1.2,className:"-=active"}))}function p(e){var t=e.charAt(5)||e.charAt(4),s=u.mainNav.querySelectorAll(".active");1===s.length&&s[0].hash===e||(u.activeZone=parseInt(t),t=u.navLinks[u.activeZone-1],TweenLite.set(t,{className:"+=active showTitle"}),TweenLite.set(s,{className:"-=active"}),TweenLite.set(s,{className:"-=showTitle"}),v(t),6===u.activeZone?u.mainNav.classList.add("hide-nav-btn"):3===u.activeZone?u.body.classList.add("light-zone"):(u.mainNav.classList.remove("hide-nav-btn"),u.body.classList.remove("light-zone")))}function f(){d=!0,r=setTimeout(()=>{d=!1},s)}function w(e,t=!1,s){f();let n=150<s||s<-150?.5:1;n<0&&(n*=-1);let a="#zone6";if(t)if("next"===t){if(5<u.activeZone)return;s=u.activeZone+1;a=`#zone${s}`}else{if(u.activeZone<=1)return;var o=u.activeZone-1;a=`#zone${o}`}else{o=e.currentTarget;a=o.hash}"click"===e.type&&(e.preventDefault(),TweenLite.to(window,n,{scrollTo:a,ease:Expo.easeOut,autoKill:!t,onComplete:()=>{clearTimeout(r),d=!1}})),p(a)}function y(e){let t;t=m?-33.334*e.detail:void 0!==e.deltaY?-e.deltaY:e.wheelDelta,d||(t<=-15?w(e,"next",t):15<=t&&w(e,"prev",t))}function g(e,t){if(u.mainNav=u.body.querySelector(e),u.mainNav){u.navLinks=u.mainNav.querySelectorAll(t),u.mainNav.classList.remove("nav--hidden");const s=u.body.querySelectorAll(".block__link[href^='#zone'], .btn[href^='#zone']");for(let e=0;e<s.length;e+=1)s[e].addEventListener("click",w);const n=parseInt(localStorage.getItem("lastZone",u.activeZone));TweenMax.staggerFrom(u.navLinks,.4,{delay:1.2,x:100,ease:Back.easeOut.config(3)},.1,()=>{let e;n&&778<window.pageYOffset?(e=u.navLinks[n-1],u.activeZone=n,6===u.activeZone?u.mainNav.classList.add("hide-nav-btn"):3===u.activeZone&&u.body.classList.add("light-zone")):e=u.navLinks[0],TweenLite.set(e,{className:"+=active showTitle"}),v(e),h=!0});for(let e=0;e<u.navLinks.length;e+=1){const a=u.navLinks[e];a.addEventListener("click",w)}u.body.querySelector(".nav__btn").addEventListener("click",e=>{u.activeZone<6&&w(e,"next")}),3<=c&&778<i&&(f(),t=m?"DOMMouseScroll":"wheel",window.addEventListener(t,function(a,o){let i,c=0;return function(){const e=arguments,t=this,s=+new Date,n=function(){c=s,a.apply(t,e)};clearTimeout(i),s>=c+o?n():i=setTimeout(n,o)}}(y,20),!1))}}let b={rootMargin:"0% 50%",threshold:.5,animateClassName:"sal-animate",disabledClassName:"sal-disabled",selector:"[data-sal]",once:!0,disabled:!1},L=[],T=null;const x=()=>{document.body.classList.add(b.disabledClassName)},A=(e,s)=>{e.forEach(e=>{if(e.intersectionRatio>=b.threshold){e.target.classList.add(b.animateClassName);const t=e.target.id;h&&"z"===t.charAt(0)&&3<=c&&778<i?p(`#${t}`):b.once&&s.unobserve(e.target)}else b.once||e.target.classList.remove(b.animateClassName)})},k=()=>{x(),T.disconnect(),T=null},N=()=>{document.body.classList.remove(b.disabledClassName),T=new IntersectionObserver(A,{rootMargin:b.rootMargin,threshold:b.threshold}),L=[].filter.call(document.querySelectorAll(b.selector),e=>!(e=>e.classList.contains(b.animateClassName))(e,b.animateClassName)),L.forEach(e=>T.observe(e))},S=(e=b)=>{if(e!==b&&(b={...b,...e}),!window.IntersectionObserver)throw x(),Error(`
      Your browser does not support IntersectionObserver!
      Get a polyfill from here:
      https://github.com/w3c/IntersectionObserver/tree/master/polyfill
    `);return(b.disabled||"function"==typeof b.disabled&&b.disabled()?x:N)(),{elements:L,disable:k,enable:N}};function I(e){const s=new Image;return new Promise(t=>{s.addEventListener("load",()=>function(e){return"decode"in e?e.decode().then(()=>e):Promise.resolve(e)}(s).then(e=>t(e)),!1),s.src=e})}function E(s){let n="",a=0;return Object.keys(o).forEach((e,t)=>{c>=t&&t>a&&(n=s.getAttribute(`data-src-${e}`)||n,a=t)}),n=n||s.getAttribute("data-src-xxs"),n}class _{constructor(e){this.dom={container:e,sections:e.querySelectorAll(".slider__section"),btns:e.querySelectorAll(".nav__link"),wrap:e.querySelector(".slider__wrap"),icons:e.parentNode.querySelectorAll(".slider__icon")},this.dom.sections=this.dom.container.querySelectorAll(".slider__section"),this.activeIndex=0,this.activeBtn=this.dom.btns[0],this.activeIcon=null,this.setSliderHeightWidth(),e=this.setSliderHeightWidth.bind(this),t.push(e);for(let t=0;t<this.dom.icons.length;t+=1){const s=this.dom.icons[t];s.addEventListener("click",e=>this.swapContent(e,t+1))}}setSliderHeightWidth(){const e=[];this.dom.container.classList.remove("slider--loaded"),this.dom.wrap.removeAttribute("style");for(let t=0;t<this.dom.sections.length;t+=1){const s=this.dom.sections[t];TweenLite.set(s,{display:"block"}),e.push(s.scrollHeight),s.removeAttribute("style");const n=this.dom.btns[t];n.addEventListener("click",e=>this.swapContent(e,t))}var t=Math.max.apply(null,e);TweenLite.set(this.dom.wrap,{height:`${t}px`,width:this.dom.wrap.offsetWidth}),this.dom.container.classList.add("slider--loaded")}swapContent(e,t){if(e.preventDefault(),t!==this.activeIndex){const s=this.dom.sections[t],n=this.dom.sections[this.activeIndex];this.activeIndex=t,s.classList.add("active"),this.dom.wrap.scrollHeight<s.offsetHeight&&TweenLite.to(this.dom.wrap,.5,{height:s.offsetHeight}),TweenLite.to(n,.5,{y:-20,opacity:0,clearProps:"all",onComplete:n.classList.remove("active")}),TweenLite.fromTo(s,.5,{y:20,opacity:0},{y:0,opacity:1,clearProps:"all"}),this.swapActiveBtn(t)}}swapActiveBtn(e){if(this.activeBtn.classList.remove("active"),this.dom.btns[e].classList.add("active"),this.activeBtn=this.dom.btns[e],this.dom.icons.length)if(0!==e){const t=this.dom.icons[e-1];this.activeIcon&&this.activeIcon.classList.remove("active"),t.classList.add("active"),this.activeIcon=t}else this.activeIcon.classList.remove("active")}}let q;function C(e){e.preventDefault();const t=document.getElementById("zone3");var s=t.querySelectorAll(".block");const n=e.currentTarget;var a,o=n.querySelectorAll("span");q?q.reversed()?q.play():q.reverse():(q=new TimelineLite,a=5<c?"240px":"200px",e=4<=c?"120px":"100px",q.to(o,.3,{x:15,opacity:0,ease:Power4.easeOut}).to(n,.3,{x:0,y:0,width:0,padding:0,ease:Power3.easeOut},"-=0.2").to(n,.3,{right:a,top:e,rotation:-45,ease:Power3.easeOut}).set(n,{className:"+=closed"},"-=0.3").to(s[0],.4,{opacity:0,y:-50,ease:Power2.easeOut},"-=0.15").to(t.querySelector(".zone__image--right"),.4,{xPercent:-100,ease:Power3.easeOut},"-=0.2").fromTo(s[1],.5,{opacity:0,y:50},{opacity:1,y:0,ease:Power2.easeOut},"-=0.3").set(u.body,{className:"-=light-zone"},"-=0.3"))}function O(e){const t=e.target||e;t.value?t.classList.add("has-text"):t.classList.remove("has-text")}function $(){const s=document.getElementById("contact_form");if(s){var t=s.querySelectorAll(".form__field input,.form__field textarea");for(let e=0;e<t.length;e+=1){const n=t[e];n.addEventListener("change",O,!1)}s.addEventListener("submit",e=>{e.preventDefault(),s.classList.add("sending"),grecaptcha.ready(function(){grecaptcha.execute("6Lcy1IEaAAAAALwYDi9Qc-JgeQLeax4hQ9h0j2uj",{action:"submit"}).then(function(e){const t=new XMLHttpRequest;t.open("GET","/umbraco/api/recaptcha/recaptchaverify?token="+e+"&actionName=submit",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){const t=new XMLHttpRequest;var e=function(s){if(s&&"FORM"===s.nodeName){const n=[];let e,t;for(e=s.elements.length-1;0<=e;e-=1)if(""!==s.elements[e].name)switch(s.elements[e].nodeName){case"INPUT":switch(s.elements[e].type){case"text":case"tel":case"email":case"date":case"number":case"hidden":case"password":case"button":case"reset":case"submit":n.push(`${s.elements[e].name}=${encodeURIComponent(s.elements[e].value)}`);break;case"checkbox":case"radio":s.elements[e].checked&&n.push(`${s.elements[e].name}=${encodeURIComponent(s.elements[e].value)}`)}break;case"TEXTAREA":n.push(`${s.elements[e].name}=${encodeURIComponent(s.elements[e].value)}`);break;case"SELECT":switch(s.elements[e].type){case"select-one":n.push(`${s.elements[e].name}=${encodeURIComponent(s.elements[e].value)}`);break;case"select-multiple":for(t=s.elements[e].options.length-1;0<=t;t-=1)s.elements[e].options[t].selected&&n.push(`${s.elements[e].name}=${encodeURIComponent(s.elements[e].options[t].value)}`)}break;case"BUTTON":switch(s.elements[e].type){case"reset":case"submit":case"button":n.push(`${s.elements[e].name}=${encodeURIComponent(s.elements[e].value)}`)}}return n.join("&").replace(/%20/g,"+")}}(s);t.onreadystatechange=function(){var e;this.readyState===this.DONE&&t.onreadystatechange&&(t.onreadystatechange=null,"ok"!==JSON.parse(this.responseText).status?alert("Der opstod en fejl"):(e=s.getAttribute("data-confirmation-url"))&&(window.location=e))},t.open("POST","/umbraco/api/mail/sendmultinestedcontent",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(e)}else alert("Der opstod en fejl")},t.send()})})})}}!function(){u.sliders=u.body.querySelectorAll(".slider"),u.zones=u.body.querySelectorAll(".zone"),a(),window.addEventListener("resize",l),window.addEventListener("orientationchange",l);var t=u.body.querySelectorAll(".zone__image"),s=u.body.querySelectorAll(".lazy__image");const e=u.body.querySelector(".btn--reveal");for(let e=0;e<t.length;e+=1)!function(e){var t=E(e);if(t){const s=`url(${t})`;e.style.backgroundImage!==s&&I(t).then(()=>{e.style.backgroundImage=s,e.classList.add("image--loaded")})}}(t[e]);for(let e=0;e<s.length;e+=1)!function(s){var e=E(s);if(e){const t=s.querySelector("img.image--loaded");t&&t.getAttribute("src")===e||I(e).then(e=>{var t=s.getAttribute("data-alt")||"";e.setAttribute("alt",t),s.appendChild(e),s.classList.add("image--loaded")})}}(s[e]);g(".nav--main",".nav__link"),3<=c&&e&&e.addEventListener("click",C),window.addEventListener("load",()=>{for(let e=0;e<u.sliders.length;e+=1){var t=u.sliders[e];new _(t)}3<=c?S({once:!1}):S({threshold:.6}),$()},!1),window.onbeforeunload=()=>{localStorage.setItem("lastZone",u.activeZone)}}()}();
//# sourceMappingURL=main.min.js.map
